; Roo script generated by Modello
project --topLevelPackage ${package}

; persistence setup --provider HIBERNATE --database HYPERSONIC_IN_MEMORY
persistence setup --provider HIBERNATE --database POSTGRES

; enum type --class ~.reference.PetType
; enum constant --name Dog
; enum constant --name Cat
; enum constant --name Bird

#foreach ( $class in $model.allClasses )
entity --class ${package}.${class.name} --testAutomatically
#foreach ( $field in $class.getFields( $version ) )
field string --fieldName $field.name --notNull
#end

#end

; entity --class ~.domain.Visit --testAutomatically
; entity --class ~.domain.AbstractPerson --abstract
; entity --class ~.domain.Vet --extends ~.domain.AbstractPerson --testAutomatically

; field string --fieldName firstName --sizeMin 3 --sizeMax 30 --class ~.domain.AbstractPerson
; field date --fieldName birthDay --type java.util.Date --notNull
; field date --fieldName visitDate --type java.util.Date --notNull --past
; field reference --fieldName pet --type ~.domain.Pet --notNull
; field reference --fieldName vet --type ~.domain.Vet
; field boolean --fieldName sendReminders --notNull --primitive --class ~.domain.Pet
; field number --fieldName weight --type java.lang.Float --notNull --min 0
; field enum --fieldName type --type ~.reference.PetType --notNull
; field date --fieldName employedSince --type java.util.Calendar --notNull --past --class ~.domain.Vet
; field set --class ~.domain.Owner --fieldName pets --element ~.domain.Pet --mappedBy owner --notNull false --cardinality ONE_TO_MANY

; finder add --finderName findPetsByNameAndWeight --class ~.domain.Pet
; finder add --finderName findPetsByOwner
; finder add --finderName findPetsBySendRemindersAndWeightLessThan
; finder add --finderName findPetsByTypeAndNameLike

; finder add --finderName findVisitsByDescriptionAndVisitDate --class ~.domain.Visit
; finder add --finderName findVisitsByVisitDateBetween
; finder add --finderName findVisitsByDescriptionLike

controller all --package ~.web

web mvc install language --code de
web mvc install language --code es
; web mvc install language --code fr

; selenium test --controller ~.web.OwnerController
; selenium test --controller ~.web.PetController
; selenium test --controller ~.web.VetController
; selenium test --controller ~.web.VisitController

logging setup --level DEBUG
